#JS高级第四天

#昨天回顾
###作用域链及作用
<pre>
变量在当前环境、内部环境、内部深层环境都起作用的现象形成一个链条，称为变量的“作用域链”
作用：
① 变量必须“先声明、后使用”
② 内部环境可以访问外部环境变量，反之不然
③ 变量的作用域是声明时决定的，非运行时
</pre>

###AO活动对象
<pre>
js代码的环境：全局环境、函数环境
每个环境都有AO活动对象，AO的成员就是在当前环境有权访问的变量信息
</pre>

###变量类型及优先级
<pre>
	一个环境可以访问的变量类型：内部变量、内部函数、参数、外部变量
</pre>

###重新全局变量和局部变量
<pre>
	全局变量：其活动对象是window
	局部变量：一定范围内，其也是”全局变量”
</pre>

###什么是闭包、特点、使用规则
<pre>
闭包就是函数，两个函数彼此嵌套，内部函数被return返回就形成一个闭包
特点：有权利使用上级环境的变量信息
使用规则：同一个闭包机制创建多个闭包函数，它们彼此独立、没有联系
  每个闭包函数内部都有自己可以访问的个性化信息
</pre>

###6.面向对象
<pre>
a)创建对象：字面量、构造函数、Object
b)对象在内存分配：栈空间、堆空间、代码空间、数据空间
c)对象调用其他函数和(其他对象)方法
给对象增加一个新成员，该成员就是其他函数的引用(名称)
缺点：增加变量污染的几率
d)call和apply函数(方法)执行
函数.call(函数内部this的引用,实参，实参。。。);
函数.apply(函数内部this的引用,[实参，实参。。。]);
call和apply可以使得一个对象在不增加新成员的情况下，去调用其他函数(方法)，
降低了变量污染的几率。

e)this的代表意思
window、元素节点对象、调用该函数的当前对象、call/apply任意代表其他对象
</pre>

#day04面向对象内容
###面向对象
<pre>
	三大特性：封装、继承、多态
</pre>

###封装特性
<pre>
在php里边，通过给成员声明关键字体现封装：public   protected   private
php中有2种方式访问私有成员属性private：
A.定义一个公开方法
B.通过魔术方法__get()


在javascript里边，封装只体现public、private
①public公开的，在构造函数里边通过this关键字声明的成员都是公开的，函数内部、外部都可以调用
②private私有的，在构造函数里边声明局部变量，就是私有成员
构造函数内部声明的局部变量就是私有成员
</pre>

###继承特性
<pre>
2.1 原型继承介绍
php里边：一个类去继承另一个类，继承类实例化对象也会拥有被继承类的成员
javascript里边：(构造)函数可以继承另外一个对象，构造函数实例化出来的对象除了拥有本身成员还拥有被继承对象的成员。
原型继承关键字：prototype。


2.2 实现原型继承
函数.prototype.成员名称 =  值;   //继承单一成员
函数.prototype = 对象;           //继承一个对象

单一成员继承

2.3 原型继承注意
① 对象 和 单一成员同时继承，需要先继承对象、再继承成员
② 多个对象 同时继承，最后对象起作用
③ 继承成员名称 与 本身成员名称一致，体现本身成员结果

多个对象同时继承，后者覆盖前者

对象和成员同时继承，先继承对象、再继承成员
</pre>

###对象访问成员的类型及优先级
<pre>
对象访问成员类型一共四种，如下图，从上往下优先级依次提高
</pre>

###原型链
<pre>
什么是原型链：
构造函数 继承 一个对象
继承对象也有构造函数，其构造函数还去继承其他对象
其他对象也有构造函数，构造函数还去继承其他对象
其他对象也有构造函数，构造函数还去继承其他对象
如此反复。。。。。
形成了一个继承的链条，称为”原型链”，原型链的顶端是Object

</pre>

###对象访问一个成员顺序
<pre>
① 对象本身获取
② 对象构造函数里边获取
③ 构造函数继承对象本身获取
④ 构造函数继承对象的构造函数里边获取
   构造函数继承对象构造函数继承对象的本身获取
   构造函数继承对象构造函数继承对象的构造函数里边获取
   。。。。。。
   直到找到Object成员为止。
   有的时候对象访问一个成员，我们本身并没有定义这个成员，其就会通过原型链找到顶端Object的成员进行访问。
   例如constructor、hasOwnPrototype、isPrototypeOf等等都是原型链顶端Object的成员。
</pre>

###对象遍历及成员属组判断
<pre>
	for-in
	for(var  成员变量 in  对象){}
</pre>

###原型衍生继承-复制继承
<pre>
特点(优势)：
① 允许同时继承多个对象
② 非常灵活，可以根据实际需要为每个对象复制不同的成员
    (之前的原型继承，继承成员无论是否使用都继承给每个对象)
jquery框架里边大量使用复制继承
</pre>

###总结
<pre>
1. 封装特性：公开的、私有的
2. 原型继承
① 实现：对象、单一成员都可以继承
② 注意事项：
a.对象和成员同时继承，先对象、后成员
b.同时继承多个对象，后者覆盖前者
c.本身与继承对象拥有同名称成员，使用本身的
    ③ 对象访问成员类型
       	对象本身成员
构造函数成员
继承对象成员
继承对象构造函数成员
④ 原型链
构造函数 继承 对象(构造函数)  继承 对象(构造函数)  继承 对象 ....
如此反复形成一个继承链条，称为“原型链”
原型链顶端是Object对象
     ⑤ 遍历对象
for(var  成员名称  in  对象){}
对象.hasOwnProperty(成员名称)  判断成员是否是本身拥有的

</pre>

###静态成员
<pre>
	如果一个类里边，有这样的属性，其值不随便发生变化，全部对象都共用一个值，该属性就声明为static静态的，其在内存中无论创建多少个对象(或者说其与具体对象无关)都只占据一份空间
</pre>

###为什么使用静态成员
<pre>
① 静态成员归属到类本身，可以明显的加快访问速度(不需要实例化对象，通过类进行访问)。
② 节省内存
一个类，每实例化一个对象，在堆空间都要给每个成员分配内存空间，如果有一个成员$country无论创建多少个对象其的信息值也不发生变化，为了节省内存空间的使用，就把这样的成员设置为“静态成员”。其在内存中就只占据一份内存空间。


静态成员在php里边需要通过 类名::静态成员 直接访问（普通对象也可以调用静态成员 $对象->静态成员）
那么在javascript里边如果一个成员是通过(构造)函数直接调用的，就称其为“静态成员”。

</pre>

#异常Exception
###什么是异常
<pre>
异常是程序运行时的一种错误。(语法错误) 
错误的类型：编译错误、运行错误
在没有异常处理的时候，程序遇到“问题/错误”通常就停止运行，给用户了一种不好的体验
使用异常后，即使程序有运行错误，我们也要把这个程序完整运行完毕，以便给用户好的使用效果。

编译错误(语法错误)

在不使用异常机制的时候，任何一行代码如果出现运行时错误，后续代码就停止执行

</pre>

###具体使用异常
<pre>
try{
	有可能产生异常(错误)的语句
	如果其中一个语句有错误，就直接跳到catch执行，后续代码就不给执行了
xxxx后续代码
}catch(Exception ex){
	捕捉错误语句,通过ex.message对象获得具体错误信息
对错误进行处理，通常把日志信息保存到文件中
}finally{
	在php里边没有finally(php5.4之后就有了)
	javascript和java里边有此finally

	无论代码是否有错误，该处代码都给执行
}

</pre>

###异常使用注意
<pre>
① 并不是全部代码都放到try里边，而是有可能产生异常的代码放到try里边
② 有一定容忍度的错误可以设置异常，敏感错误不要设置
③ 最后的finally根据情况需要使用，可以不设置

</pre>

###多态体现
<pre>
多态就是多种状态。

java里边有多态，其中方法重载是多态效果之一(多个同名方法，他们的参数个数不一样)体现多态.同一个名字的方法被多次调用，由于传递的参数个数不一样，导致请求的结果也不同。

php里边多态：
继承抽象类可以体现多态，许多类都要把继承的抽象类的抽象方法给实现出来。不同的类实现相同的方法有自己独特的实现，他们被调用的时候呈现不同的结果
工厂设计模式可以体现多态，实例化对象调用同一个方法，由于传递的参数不同，实例化的对象也不同。

javascript体现多态：
① 在函数内部可以通过arguments关键字进行多态处理，传递个数不相同的参数，通过arguments判断，进而有不同的处理。
② this关键字可以体现多态。其可以任意代表其他对象(call和apply使用)。

</pre>

#正则表达式
###什么是正则表达式
<pre>
正则表达式就是记录文本规则的代码
	
正则表达式是由普通字符(例如字符 a A到 zZ)以及特殊字符（称为元字符）组成的文字模式。
正则表达式作为一个模板，将某个字符模式与所搜索的字符串进行匹配。
在处理程序或网页时，经常会有查找或替换符合某些复杂规则的字符串的需要。

</pre>

###历史
<pre>
正则表达式的“祖先”可以一直上溯至对人类神经系统如何工作的早期研究。
1956 年, 一位叫 Stephen Kleene 的数学家在 McCulloch 和 Pitts 早期工作的基础上,发表论文使用了正则表达式。
正则表达式的第一个实用应用程序就是 Unix 中的 qed 编辑器

</pre>

###作用
<pre>
①对表单域项目(用户名、密码、邮箱、qq号码、手机等等)进行验证
	13\d{9}
	[1-9]\d{4,11}
②网络爬虫(信息采集)(一个网站到另一个网站的页面上去获取对方的相关信息)
③获取天气预报信息(或者获取其他网站的其他信息)
④内容替换、获取

</pre>

###使用正则
<pre>
正则组成内容：
普通字符(字母/数字/标点符号/特殊符号)、定义字符集、组合字符集、特殊字符集、限制字符集、模式修正符等
</pre>

###定义字符集组成
<pre>
[a-e]
[a-z]
[aeiou]
[a-zA-Z]
[a-zA-Z0-9_-]
[0-9]
[5-9]

使用"-"必须按照顺序来显示，不能写成[9-5]
</pre>

###特别字符集组成
<pre>
$ ：结尾部分
^ :头部部分
. :任意字符
():标记一个子表达式的开始和结束的位置
*:任意次数
+:一次或者多次
?:0次或者一次
\:转义
|:两项直接的一个选择

</pre>

###()小阔号
在正则里边小括号内容要体现在结果里边：
下图：
rst[1] 访问第一个小括号内容
rst[2] 访问第二个小括号内容
rst[n] 访问第n个小括号内容

小括号提供子表达式优先级

从一个大的字符串中拆分小的字符串出来
</pre>

###模式修正符组成
<pre>
模式修正符:
i------>忽略大小写
g----->全局匹配(进行全局匹配的时候不给体现“模式单元”内容)
（默认是单次匹配，非全局）
</pre>

###总结
<pre>
1.静态成员
给函数对象直接丰富的成员就是静态成员
2.异常使用Exception
异常是代码运行时错误
好处：尽最大可能使得程序完整执行
try{
可能出现错误的代码
}catch(){
捕捉异常错误
}finally{
最终一定会执行的代码
}
3.多态
arguments和this
4.正则表达式
普通字符集：字母、数字、标点符号、特殊符号
定义字符集：
[0-9]  [4-7]
[a-z]  [m-w]
[A-Z]  [M-W]
[0-9a-zA-Z]
[ywq7#]
特别字符集
*   +   ？
.点  \   |
^    $   ()
模式修正符
i  g
</pre>

###
<pre>

</pre>

###
<pre>

</pre>

###
<pre>

</pre>