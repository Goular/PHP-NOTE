#Smarty模板
###为什么需要模板引擎
<pre>
只要能把php和html分开的技术，都可以称之为模板技术。

注意mvc和模板技术的区别
MVC：它是针对整个项目而言的。
模板技术：仅针对视图层而言的。

</pre>

###Smarty介绍
<pre>
smarty是什么？
Smarty是一个PHP的模板引擎，提供让程序逻辑与页面显示（HTML/CSS）代码分离的功能。 也就是PHP代码是程序逻辑，与页面显示分开。

smarty特点
速度：使用smarty可以获得最大速度的提高（相对于其它模板引擎技术）。 
编译型：在下一次访问模板时直接访问编译文件，而不再进行模板重新编译。
缓存技术：可以将用户最终看到的HTML文件缓存成一个静态的HTML页。
插件技术：smarty可以自定义插件。插件实际就是一些自定义的函数。
强大的表现逻辑：模板中可以使用if/elseif/else/endif、foreach等。

</pre>

###Smarty基本语法
首先，站在前端开发人员的角度使用smarty。包括定界符、注释、变量和函数（内置函数、变量修饰器和函数插件）。

<pre>
1.定界符

和html标签类似，<p></p>
在smarty中，默认的定界符是{},

注意：
任何在定界符之外的内容，都是静态的，是不会被解析的（包括php代码）
{ 和 $ 中间不能有任何空格，否则将不会解析。（右边则是可以的）
如果在页面中有css和js，会怎么样呢？
默认的定界符是可以修改的

如何解决{的冲突
a. 所有以{ 开头的地方，加空一格
b. 将css和js以外部的方式引入
c. 使用内置函数 literal
d. 更改定界符

2.注释
格式：左定界符*  内容 *右定界符 如 {* 内容 *}
</pre>

###变量---比较重要
<pre>
在模板中可以使用的变量有哪些？通常有三种来源：
在php中通过assign方法分配过来的。（90%以上）
保留变量
配置变量
</pre>

###(1).通过assign分配过来的变量
<pre>
直接使用assign方法分配即可，写法如下：
$smarty->assign(名，值);
重点是，分配的变量有哪些表现形式？
回顾：php中，有哪些数据类型？422阵型
4种标量类型，整型、浮点型、字符串、布尔
2种复合类型，数组和对象
2种特殊类型，资源和NULL

标量就是单个值的意思，一个变量只能表示一个值。

资源类型和NULL根本就不需要。
对象是可以使用的，但是一般不建议分配。
结论：就是标量类型和数组。5种，实际上就是两种，标量和数组。

标量比较简单，直接输出即可

注意，布尔类型，在echo的时候，echo后面的参数一定是字符串，如果不是，会自动隐式转换。True转成1，false转成空。




数组是重点

数组的使用可以用arr_name['key']或者是arr_name.key的形式进行读取

实际上，不管是关联数组还是索引数组，其实处理方式是一样的。都可以使用[]和.的方式来访问。

[思考]：关联数组和索引数组有何区别？
实际上没有什么区别。
索引数组只不过是关联数组的一种特例，特殊之处就在于下标是连续的数字。

对象也是可以分配的，但一般不使用。

</pre>

###(2).保留变量
<pre>
首先，它是无需分配的。直接在模板中使用即可。
包括Smarty本身的以及超级全局变量。

其中，常量是需要先定义才可以的，但是无需分配。

</pre>

###(3).配置变量
<pre>
有些数据，其实是可以交给前端开发人员自行来定义的。比如我们的网站的一个版权信息。
此时，作为前端开发人员，可以使用配置变量的这种方式。

使用test.conf的文件对其进行配置变量的的访问

</pre>

###4.内置函数
<pre>
重点关注以下三个。
(1).if/else
选择结构。和php中if/else几乎是一样的。唯一不同的是现在是使用smarty语句来书写的。

{if},{elseif},{else}

注意细节
每个{if} 都必须有一个配对的 {/if}
所有在php中使用的条件表达式和函数都可以在{if} 内使用
在smarty模板标签中，可以进行数学运算的

(2).foreach
处理数组的情况最多，一维数组、二维数组、多维数组。
foreach是使用做多的。
格式有两种，如下：
{foreach $arrayvar as $itemvar} 
{foreach $arrayvar as $keyvar=>$itemvar}

注意，在输出指定字段的时候，分别使用了[]和.这两种方式。


实际上，我们的foreach还提供了一些属性，方便我们使用。
{foreach}还有一些属性，非常有用，有以下6个
@index , 当前数组索引，从0开始计算
@iteration，当前循环的次数，从1开始计算
@first，首次循环时，该值为true
@last，循环到最后一次时，该值为true
@total，总的循环次数，可在foreach内部使用，也可以在循环完成之后使用
@show，在foreach循环执行完之后，检测循环是否显示数据的判断


☞ 注意细节
还带一个 {foreachelse}的分支，当$arr中没有内容时会执行
smarty 2写法 {foreach from = $arr key = "key" item="value"} 也是可以支持的
</pre>


(3).section
也是用来循环的。只能遍历数字连续的索引数组。

结论：不要用section来遍历关联数组。

还需要注意一点，就是loop的取值可以是分配过来的数组的名字。

☞ 注意细节
loop 后面接的通常是 分配过来的数组，也可以直接写一个数字，如果接的是一个数组，则会计算其长度，作为其循环总次数。 
而item 相当于数组的索引值，即 0 ，1， 2，这样的索引值。
和foreach类似，可以使用 index、iteration、first、last、total等属性，访问方式 $smarty.section.name.index，其中name就是name属性的值。

在实际应用中，凡是能使用section的地方，都可以使用foreach，但是反之不行。所以一般我们只需要使用foreach即可。

###变量修饰器
<pre>
有的时候，我们在模板中使用数据，还需要做进一步的处理，而且只能在模板层面来处理。
比如，我们在完成无限分类的展示的时候，按照层级来进行显示。

再比如，我们直接在模板层面来使用{$smarty.now},但是显示效果不直观，需要进一步处理。

对于这些情况，我们可以使用变量修饰器，有时候也称之为变量调节器。

如果有多个参数呢，只需要使用：隔开即可。
如truncate的使用。

☞ 注意细节
除了smarty自带的一些调节器之外，php中的函数也是可以直接使用的
可以在一个变量上使用多个变量调节器，多个之间使用 | 隔开即可
可以自定义变量修饰器函数
</pre>

###函数插件
<pre>
作为前端开发人员，经常需要根据分配过来的变量，输出各种表现形式的html，如表单、表格等。

除了可以使用 foreach 来输出这些内容之外，smarty 还 自带了一些自定义的函数插件，可以在模板内使用。


(1).单选html_radios
用于生成单选框组

(2).复选 html_checkboxes
用于生成复选框组

(3).下拉列表html_options
用于生成下拉列表

(4).cycle
用于循环交替某些值。
使用它可以实现隔行换色。

</pre>

下面的内容，我确实不想写了，我不喜欢模板引擎，因为php就是模板啊，不写了